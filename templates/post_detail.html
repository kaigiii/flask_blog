{% extends 'base.html' %}
{% block title %}{{ post.title }} - Flask Blog{% endblock %}
{% block content %}
  <h2>{{ post.title }}</h2>
  <p><em>by {{ post.author }}</em></p>
  <p>{{ post.content }}</p>
  <p>
    <a href="{{ url_for('list_posts') }}" class="button">Back</a>
    {% if current_user.is_authenticated and (not post.user_id or post.user_id == current_user.id) %}
    <a href="{{ url_for('edit_post', post_id=post.id) }}" class="button">Edit</a>
    <form action="{{ url_for('delete_post', post_id=post.id) }}" method="post" style="display:inline" onsubmit="return confirm('Delete this post?');">
      <button type="submit">Delete</button>
    </form>
    {% endif %}
  </p>
{% endblock %}
