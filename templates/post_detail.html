{% extends 'base.html' %}
{% block title %}{{ post.title }} - Flask Blog{% endblock %}
{% block content %}
  <article class="card-large">
    <h2>{{ post.title }}</h2>
    <p class="meta">by {{ post.author }}</p>
    <div style="margin: 1rem 0; white-space: pre-wrap;">{{ post.content }}</div>
    <div class="actions">
      <a href="{{ url_for('list_posts') }}" class="button">Back</a>
      {% if current_user.is_authenticated and (not post.user_id or post.user_id == current_user.id) %}
      <a href="{{ url_for('edit_post', post_id=post.id) }}" class="button primary">Edit</a>
      <form action="{{ url_for('delete_post', post_id=post.id) }}" method="post" style="display:inline" onsubmit="return confirm('Delete this post?');">
        <button type="submit" class="button danger">Delete</button>
      </form>
      {% endif %}
    </div>
  </article>
{% endblock %}
